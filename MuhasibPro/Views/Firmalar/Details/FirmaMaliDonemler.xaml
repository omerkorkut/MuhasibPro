<?xml version="1.0" encoding="utf-8" ?>
<UserControl
    x:Class="MuhasibPro.Views.Firmalar.Details.FirmaMaliDonemler"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:MuhasibPro.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:MuhasibPro.Views.Firmalar.Details"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="using:MuhasibPro.Business.DTOModel.SistemModel"
    xmlns:tv="using:WinUI.TableView"
    d:DesignHeight="400"
    d:DesignWidth="800"
    Loaded="OnLoadFirmaMaliDonemler"
    mc:Ignorable="d">

    <controls:DataList x:Name="dataList">
        <controls:DataList.ConfigControl>
            <controls:BaseConfig>
                <controls:BaseConfig.CoreData>
                    <controls:CoreDataConfig
                        ItemsCount="{x:Bind ViewModel.ItemsCount, Mode=OneWay}"
                        ItemsSource="{x:Bind ViewModel.Items, Mode=OneWay}"
                        NewLabel="Yeni Mali Dönem"
                        Query="{x:Bind ViewModel.Query, Mode=TwoWay}"
                        SelectedItem="{x:Bind ViewModel.SelectedItem, Mode=TwoWay}">
                        <controls:CoreDataConfig.ListContent>
                            <tv:TableView
                                x:Name="pageTableView"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch"
                                HorizontalContentAlignment="Stretch"
                                VerticalContentAlignment="Stretch"
                                AlternateRowForeground="{StaticResource TextBoxButtonForegroundThemeBrush}"
                                AutoGenerateColumns="False"
                                DoubleTapped="{x:Bind dataList.ConfigControl.Selection.OnDoubleTapped}"
                                GridLinesVisibility="Horizontal"
                                HeaderGridLinesVisibility="Vertical"
                                IsMultiSelectCheckBoxEnabled="{x:Bind ViewModel.IsMultipleSelection, Mode=OneWay}"
                                IsReadOnly="True"
                                ItemsSource="{x:Bind ViewModel.ItemsSource, Mode=OneWay}"
                                SelectedItem="{x:Bind ViewModel.SelectedItem, Mode=TwoWay}"
                                SelectionMode="{x:Bind dataList.ConfigControl.Selection.SelectionMode, Mode=OneWay}"
                                SelectionUnit="Row">
                                <tv:TableView.Columns>
                                    <!--  Icon Column  -->
                                    <tv:TableViewTextColumn
                                        Width="120"
                                        Binding="{Binding Id}"
                                        Header="Kimlik" />
                                    <tv:TableViewTextColumn
                                        Width="auto"
                                        Binding="{Binding MaliYil}"
                                        Header="MaliDonem" />
                                    <tv:TableViewTextColumn
                                        Width="auto"
                                        Binding="{Binding DatabaseType}"
                                        Header="Veritabanı Tipi" />
                                    <tv:TableViewTextColumn
                                        Width="auto"
                                        Binding="{Binding DatabaseName}"
                                        Header="Veritabanı Adı" />

                                </tv:TableView.Columns>
                            </tv:TableView>


                        </controls:CoreDataConfig.ListContent>
                    </controls:CoreDataConfig>


                </controls:BaseConfig.CoreData>
                <controls:BaseConfig.Command>
                    <controls:CommandConfig
                        CancelSelectionCommand="{x:Bind ViewModel.CancelSelectionCommand}"
                        DeleteCommand="{x:Bind ViewModel.DeleteSelectionCommand}"
                        DeselectItemsCommand="{x:Bind ViewModel.DeselectItemsCommand}"
                        ItemSecondaryActionInvokedCommand="{x:Bind ViewModel.OpenInNewViewCommand}"
                        NewCommand="{x:Bind ViewModel.NewCommand}"
                        QuerySubmittedCommand="{x:Bind ViewModel.RefreshCommand}"
                        RefreshCommand="{x:Bind ViewModel.RefreshCommand}"
                        SelectItemsCommand="{x:Bind ViewModel.SelectItemsCommand}"
                        SelectRangesCommand="{x:Bind ViewModel.SelectRangesCommand}"
                        StartSelectionCommand="{x:Bind ViewModel.StartSelectionCommand}" />
                </controls:BaseConfig.Command>
                <controls:BaseConfig.Selection>
                    <controls:SelectionConfig IsMultipleSelection="{x:Bind ViewModel.IsMultipleSelection, Mode=TwoWay}" />
                </controls:BaseConfig.Selection>
                <controls:BaseConfig.Pagination>
                    <controls:PaginationConfig
                        CurrentPage="{x:Bind ViewModel.CurrentPage, Mode=TwoWay}"
                        NextPageCommand="{x:Bind ViewModel.NextPageCommand}"
                        PageSize="{x:Bind ViewModel.PageSize, Mode=TwoWay}"
                        PreviousPageCommand="{x:Bind ViewModel.PreviousPageCommand}"
                        TotalItems="{x:Bind ViewModel.ItemsCount, Mode=OneWay}" />
                </controls:BaseConfig.Pagination>
            </controls:BaseConfig>
        </controls:DataList.ConfigControl>
    </controls:DataList>
</UserControl>